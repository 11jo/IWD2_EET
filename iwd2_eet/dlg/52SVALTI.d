BEGIN ~52SVALTI~

IF WEIGHT #1
~NumTimesTalkedTo(0)~ THEN BEGIN 0
  SAY @9995
  IF ~Global("52Sersa_Train","GLOBAL",1)
      Global("52Svaltid_Sersa ","GLOBAL",0)~ THEN REPLY @9996 GOTO 3
  IF ~~ THEN REPLY @9997 GOTO 2
  IF ~~ THEN REPLY @9998 EXIT
END

IF WEIGHT #2
~True()~ THEN BEGIN 1
  SAY @9999
  IF ~Global("52Sersa_Train","GLOBAL",1)
      Global("52Svaltid_Sersa ","GLOBAL",0)~ THEN REPLY @9996 GOTO 3
  IF ~~ THEN REPLY @9997 GOTO 2
  IF ~~ THEN REPLY @9998 EXIT
END

IF ~~ THEN BEGIN 2
  SAY @10000
  IF ~Class(LastTalkedToBy,MONK)~ THEN REPLY @38537 GOTO 9
  IF ~Global("52Sersa_Train","GLOBAL",1)
      Global("52Svaltid_Sersa ","GLOBAL",0)~ THEN REPLY @9996 GOTO 3
  IF ~~ THEN REPLY @9998 EXIT
END

IF ~~ THEN BEGIN 3
  SAY @10001
  IF ~~ THEN REPLY @10002 GOTO 4
  IF ~~ THEN REPLY @9998 EXIT
END

IF ~~ THEN BEGIN 4
  SAY @10003
  IF ~CheckStatGT(LastTalkedToBy,12,WIS)
      CheckStatGT(LastTalkedToBy,9,INT)~ THEN REPLY @10004 GOTO 5
  IF ~~ THEN REPLY @9998 EXIT
END

IF ~~ THEN BEGIN 5
  SAY @10005
  IF ~~ THEN REPLY @10008 GOTO 6
END

IF ~~ THEN BEGIN 6
  SAY @10009
  IF ~~ THEN REPLY @10010 DO ~SetGlobal("52Svaltid_Sersa ","GLOBAL",1)
                              AddJournalEntry(@9994,QUEST)~ GOTO 7
END

IF ~~ THEN BEGIN 7
  SAY @10011
  IF ~~ THEN REPLY @10012 EXIT
END

IF WEIGHT #0
~GlobalGT("52Aruma_Gone","GLOBAL",0)~ THEN BEGIN 8
  SAY @10015
  IF ~Global("52Sersa_Train","GLOBAL",1)
      Global("52Svaltid_Sersa ","GLOBAL",0)~ THEN REPLY @9996 GOTO 3
  IF ~~ THEN REPLY @9997 GOTO 2
  IF ~~ THEN REPLY @9998 EXIT
END

IF ~~ THEN BEGIN 9
  SAY @38532
  IF ~Global("52Sersa_Train","GLOBAL",1)
      Global("52Svaltid_Sersa ","GLOBAL",0)~ THEN REPLY @9996 EXIT
  IF ~~ THEN REPLY @9998 EXIT
END
